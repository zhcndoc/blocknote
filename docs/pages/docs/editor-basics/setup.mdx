---
description: å­¦ä¹ å¦‚ä½•ä½¿ç”¨ `useCreateBlockNote` é’©å­å’Œ `BlockNoteView` ç»„ä»¶æ¥è®¾ç½®ä½ çš„ BlockNote ç¼–è¾‘å™¨ã€‚
---

import { Callout } from "nextra/components";

# ç¼–è¾‘å™¨è®¾ç½®

ä½ å¯ä»¥åœ¨å®ä¾‹åŒ–ç¼–è¾‘å™¨æ—¶è‡ªå®šä¹‰å®ƒã€‚è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹è®¾ç½® BlockNote ç¼–è¾‘å™¨çš„åŸºæœ¬æ–¹æ³•å’Œç»„ä»¶ã€‚

## `useCreateBlockNote` é’©å­

é€šè¿‡è°ƒç”¨ `useCreateBlockNote` é’©å­åˆ›å»ºä¸€ä¸ªæ–°çš„ `BlockNoteEditor`ã€‚è¿™ä¼šå®ä¾‹åŒ–ä¸€ä¸ªæ–°çš„ç¼–è¾‘å™¨åŠå…¶æ‰€éœ€çš„çŠ¶æ€ã€‚ä¹‹åä½ å¯ä»¥ä½¿ç”¨ç¼–è¾‘å™¨ API ä¸ç¼–è¾‘å™¨äº¤äº’ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ `BlockNoteView` ç»„ä»¶ã€‚

```ts
function useCreateBlockNote(
  options?: BlockNoteEditorOptions,
  deps?: React.DependencyList = [],
): BlockNoteEditor;

type BlockNoteEditorOptions = {
  animations?: boolean;
  collaboration?: CollaborationOptions;
  comments?: CommentsConfig;
  defaultStyles?: boolean;
  dictionary?: Dictionary;
  disableExtensions?: string[];
  domAttributes?: Record<string, string>;
  dropCursor?: (opts: {
    editor: BlockNoteEditor;
    color?: string | false;
    width?: number;
    class?: string;
  }) => Plugin;
  initialContent?: PartialBlock[];
  pasteHandler?: (context: {
    event: ClipboardEvent;
    editor: BlockNoteEditor;
    defaultPasteHandler: (context: {
      pasteBehavior?: "prefer-markdown" | "prefer-html";
    }) => boolean | undefined;
  }) => boolean | undefined;
  resolveFileUrl: (url: string) => Promise<string>
  schema?: BlockNoteSchema;
  setIdAttribute?: boolean;
  sideMenuDetection?: "viewport" | "editor";
  tabBehavior?: "prefer-navigate-ui" | "prefer-indent";
  tables?: TableFeatures;
  trailingBlock?: boolean;
  uploadFile?: (file: File) => Promise<string>;
};
```

è¯¥é’©å­æ¥å—ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼š

**options:** ä¸€ä¸ªåŒ…å«ç¼–è¾‘å™¨é€‰é¡¹çš„å¯¹è±¡ï¼š

`animations`ï¼šæ˜¯å¦å¯¹å—çš„æ›´æ”¹ï¼ˆå¦‚ç¼©è¿›ã€åˆ›å»ºåˆ—è¡¨ã€ä¿®æ”¹æ ‡é¢˜ï¼‰è¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚é»˜è®¤å€¼ä¸º `true`ã€‚

`collaboration`ï¼šå¯ç”¨å®æ—¶åä½œçš„é€‰é¡¹ã€‚è¯¦æƒ…è¯·å‚è§[å®æ—¶åä½œ](/docs/advanced/real-time-collaboration)ã€‚

`comments`ï¼šè¯„è®ºåŠŸèƒ½é…ç½®ï¼Œéœ€æä¾› `threadStore`ã€‚è¯¦æƒ…è¯·å‚è§[è¯„è®º](/docs/collaboration/comments)ã€‚

`defaultStyles`ï¼šæ˜¯å¦ä½¿ç”¨é»˜è®¤å­—ä½“å¹¶é‡ç½® BlockNote ä¸­ä½¿ç”¨çš„ `<p>`, `<li>`, `<h1>` ç­‰å…ƒç´ çš„æ ·å¼ã€‚å¦‚æœæœªå®šä¹‰ï¼Œé»˜è®¤ä¸º trueã€‚

`dictionary`ï¼šç”¨äºæœ¬åœ°åŒ–çš„å­—ç¬¦ä¸²ã€‚æŸ¥çœ‹[æœ¬åœ°åŒ– / å›½é™…åŒ–ç¤ºä¾‹](/examples/basic/localization)å’Œ[è‡ªå®šä¹‰å ä½ç¬¦](/examples/basic/custom-placeholder)ã€‚

`disableExtensions`ï¼ˆ_é«˜çº§_ï¼‰ï¼šåŸºäºåç§°ç¦ç”¨ BlockNote é»˜è®¤ä½¿ç”¨çš„ TipTap æ‰©å±•ã€‚

`domAttributes:` ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«åº”æ·»åŠ åˆ°ç¼–è¾‘å™¨ä¸­å„ DOM å…ƒç´ çš„ HTML å±æ€§ã€‚æŸ¥çœ‹æ›´å¤šå†…å®¹è¯·è§[æ·»åŠ  DOM å±æ€§](/docs/theming#adding-dom-attributes)ã€‚

`dropCursor`ï¼šæ‹–æ”¾å—æ—¶ä½¿ç”¨çš„æ›¿ä»£æŒ‡ç¤ºå™¨ã€‚ä½¿ç”¨çš„æ˜¯ [ProseMirror drop cursor](https://github.com/ProseMirror/prosemirror-dropcursor)ï¼Œå½“å¯ç”¨[åˆ—å—](/docs/editor-basics/document-structure#column-blocks)æ—¶ä½¿ç”¨ä¿®æ”¹ç‰ˆã€‚

`initialContent:` ç¼–è¾‘å™¨åˆ›å»ºæ—¶åº”åŒ…å«çš„å†…å®¹ï¼Œè¡¨ç¤ºä¸º[éƒ¨åˆ†å—](/docs/manipulating-blocks#partial-blocks)æ•°ç»„ã€‚

`pasteHandler`ï¼šå¯ç”¨äºè¦†ç›–é»˜è®¤ç²˜è´´è¡Œä¸ºçš„å‡½æ•°ã€‚è¯¦æƒ…è¯·è§[ç²˜è´´å¤„ç†](/docs/advanced/paste-handling)ã€‚

`resolveFileUrl:` è§£ææ–‡ä»¶ URL ä»¥è¿›è¡Œæ˜¾ç¤º/ä¸‹è½½çš„å‡½æ•°ã€‚ç”¨äºåˆ›å»ºå—è®¤è¯çš„ URL æˆ–å®ç°è‡ªå®šä¹‰åè®®ã€‚

`resolveUsers`ï¼šè§£æè¯„è®ºç”¨æˆ·ä¿¡æ¯çš„å‡½æ•°ã€‚è¯¦æƒ…è¯·è§[è¯„è®º](/docs/collaboration/comments)ã€‚

`schema`ï¼šå¦‚æœä½ æƒ³é€šè¿‡è‡ªå®šä¹‰å—ã€æ ·å¼æˆ–å†…è”å†…å®¹æ‰©å±•ç¼–è¾‘å™¨ï¼Œæä¾›ç¼–è¾‘å™¨çš„ schemaï¼Œè¯¦è§[è‡ªå®šä¹‰ Schema](/docs/custom-schemas)ã€‚

`setIdAttribute`ï¼šæ˜¯å¦åœ¨å—ä¸Šæ¸²æŸ“ `id` HTML å±æ€§ä»¥åŠ `data-id` å±æ€§ã€‚é»˜è®¤å€¼ä¸º `false`ã€‚

`sideMenuDetection`ï¼šç¡®å®šé¼ æ ‡å…‰æ ‡ä½ç½®æ˜¯å¦é”å®šåœ¨ç¼–è¾‘å™¨è¾¹ç•Œæ¡†å†…ï¼Œç”¨äºæ˜¾ç¤º[å—ä¾§è¾¹èœå•](/docs/ui-components/side-menu)å’Œå—çš„æ‹–æ”¾ã€‚è®¾ç½®ä¸º `viewport` æ—¶ï¼Œä¾§è¾¹èœå•ä¼šæ˜¾ç¤ºåœ¨å…‰æ ‡é™„è¿‘çš„æœ€è¿‘å—æ—ï¼Œæ— è®ºå…‰æ ‡åœ¨è§†å£çš„ä½•å¤„ã€‚æ”¾ç½®å—æ—¶ä¹Ÿä¼šé”å®šåœ¨ç¼–è¾‘å™¨è¾¹ç•Œæ¡†å†…ã€‚å¦åˆ™ï¼Œä¾§è¾¹èœå•ä»…åœ¨å…‰æ ‡å¤„äºç¼–è¾‘å™¨è¾¹ç•Œå†…æ—¶æ˜¾ç¤ºï¼Œå—åªèƒ½åœ¨æ‚¬åœç¼–è¾‘å™¨æ—¶æ”¾ç½®ã€‚è¦ä½¿ç”¨å¤šä¸ªç¼–è¾‘å™¨ï¼Œå¿…é¡»è®¾ç½®ä¸º `editor`ã€‚é»˜è®¤å€¼ä¸º `viewport`ã€‚

`tabBehavior`ï¼šç¡®å®šæŒ‰ Tab é”®æ—¶æ˜¯å¦åº”å¯¼èˆªå·¥å…·æ ä»¥å®ç°é”®ç›˜æ— éšœç¢ã€‚è®¾ç½®ä¸º `"prefer-navigate-ui"` æ—¶ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ Tab é”®å¯¼èˆªå·¥å…·æ ã€‚æŒ‰ Escape é”®ä¼šé‡æ–°èšç„¦ç¼–è¾‘å™¨ï¼Œä¹‹å Tab åˆ™ç”¨äºç¼©è¿›å—ã€‚`"prefer-indent"` åˆ™ä½¿ Tab å§‹ç»ˆç¼©è¿›å—ã€‚é»˜è®¤ä¸º `prefer-navigate-ui`ã€‚

`tables`ï¼šè¡¨æ ¼åŠŸèƒ½é…ç½®ï¼Œå…è®¸å¯ç”¨æ›´é«˜çº§çš„è¡¨æ ¼åŠŸèƒ½ï¼Œå¦‚ `splitCells`ã€`cellBackgroundColor`ã€`cellTextColor` å’Œè¡¨å¤´ã€‚

`trailingBlock`ï¼šç”¨æˆ·å¯ä¼ å…¥ `false` æ¥ç¦ç”¨åœ¨ç”¨æˆ·è¾“å…¥æˆ–ç¼–è¾‘ä»»æ„å—æ—¶è‡ªåŠ¨åœ¨ä¸‹ä¸€è¡Œåˆ›å»ºå°¾éšæ–°å—çš„åŠŸèƒ½ã€‚å¦‚æœæœªå®šä¹‰ï¼Œé»˜è®¤ä¸º `true`ã€‚

`uploadFile`ï¼šå¤„ç†æ–‡ä»¶ä¸Šä¼ çš„å‡½æ•°ï¼Œæœ€ç»ˆè¿”å›ä¸Šä¼ æ–‡ä»¶çš„ URLã€‚ç”¨äº[å›¾ç‰‡å—](/docs/editor-basics/default-schema#image)ã€‚

**deps:** ä¸€ä¸ªä¾èµ–æ•°ç»„ï¼Œå†…éƒ¨ä¼ é€’ç»™ `useMemo`ã€‚ä»…å½“æ­¤æ•°ç»„å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šåˆ›å»ºæ–°çš„ç¼–è¾‘å™¨ã€‚

<Callout type="info" emoji={"ğŸ’¡"}>
  <strong>æ‰‹åŠ¨åˆ›å»ºç¼–è¾‘å™¨ï¼ˆ`BlockNoteEditor.create`ï¼‰</strong>
  <p>
    `useCreateBlockNote` é’©å­å®é™…ä¸Šæ˜¯å¯¹ `BlockNoteEditor.create` æ–¹æ³•çš„ç®€å• `useMemo` å°è£…ã€‚å¦‚æœä½ æƒ³æ‰‹åŠ¨æ§åˆ¶ç¼–è¾‘å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æ­¤æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨[ä¿å­˜ä¸åŠ è½½ç¤ºä¾‹](/examples/backend/saving-loading)ä¸­è¿™æ ·åšï¼Œä»¥å»¶è¿Ÿç¼–è¾‘å™¨åˆ›å»ºï¼Œç›´åˆ°ä»å¤–éƒ¨æ•°æ®æºè·å–åˆ°å†…å®¹ã€‚
  </p>
</Callout>

## ä½¿ç”¨ `<BlockNoteView>` æ¸²æŸ“ç¼–è¾‘å™¨

ä½¿ç”¨ `<BlockNoteView>` ç»„ä»¶æ¸²æŸ“ä½ åˆšåˆ›å»ºçš„ `BlockNoteEditor` å®ä¾‹ï¼š

```tsx
const editor = useCreateBlockNote();

return <BlockNoteView editor={editor} />;
```

### å±æ€§

ä½ å¯ä»¥å‘ `BlockNoteView` ä¼ é€’è®¸å¤šé¢å¤–çš„å±æ€§ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´åˆ—è¡¨ï¼š

```typescript
export type BlockNoteViewProps = {
  editor: BlockNoteEditor;
  editable?: boolean;
  onSelectionChange?: () => void;
  onChange?: () => void;
  theme?:
    | "light"
    | "dark"
    | Theme
    | {
        light: Theme;
        dark: Theme;
      };
  formattingToolbar?: boolean;
  linkToolbar?: boolean;
  sideMenu?: boolean;
  slashMenu?: boolean;
  emojiPicker?: boolean;
  filePanel?: boolean;
  tableHandles?: boolean;
  comments?: boolean;
  children?:
} & HTMLAttributes<HTMLDivElement>;
```

`editor`ï¼šè¦æ¸²æŸ“çš„ `BlockNoteEditor` å®ä¾‹ã€‚

`editable`ï¼šç¼–è¾‘å™¨æ˜¯å¦å¯ç¼–è¾‘ã€‚

`onSelectionChange`ï¼šå½“ç¼–è¾‘å™¨é€‰æ‹©æ›´æ”¹æ—¶è§¦å‘çš„å›è°ƒã€‚

`onChange`ï¼šå½“ç¼–è¾‘å™¨å†…å®¹ï¼ˆæ–‡æ¡£ï¼‰æ›´æ”¹æ—¶è§¦å‘çš„å›è°ƒã€‚

`theme`ï¼šç¼–è¾‘å™¨ä¸»é¢˜ï¼Œè¯¦è§[ä¸»é¢˜](/docs/styling-theming/themes)ã€‚

`formattingToolbar`ï¼šæ˜¯å¦å¯ç”¨[æ ¼å¼åŒ–å·¥å…·æ ](/docs/ui-components/formatting-toolbar)ã€‚

`linkToolbar`ï¼šæ˜¯å¦å¯ç”¨é“¾æ¥å·¥å…·æ ã€‚

`sideMenu`ï¼šæ˜¯å¦å¯ç”¨[å—ä¾§è¾¹èœå•](/docs/ui-components/side-menu)ã€‚

`slashMenu`ï¼šæ˜¯å¦å¯ç”¨[æ–œæ èœå•](/docs/ui-components/suggestion-menus#slash-menu)ã€‚

`emojiPicker`ï¼šæ˜¯å¦å¯ç”¨[è¡¨æƒ…é€‰æ‹©å™¨](/docs/advanced/grid-suggestion-menus#emoji-picker)ã€‚

`filePanel`ï¼šæ˜¯å¦å¯ç”¨æ–‡ä»¶å·¥å…·æ ã€‚

`tableHandles`ï¼šæ˜¯å¦å¯ç”¨è¡¨æ ¼æ“ä½œæŸ„ã€‚

`comments`ï¼šæ˜¯å¦å¯ç”¨é»˜è®¤è¯„è®º UI åŠŸèƒ½ã€‚

`children`ï¼šå‘ `BlockNoteView` ä¼ é€’å­å…ƒç´ æ¥åˆ›å»ºæˆ–è‡ªå®šä¹‰å·¥å…·æ ã€èœå•æˆ–å…¶ä»– UI ç»„ä»¶ã€‚è¯¦è§[UI ç»„ä»¶](/docs/ui-components)ã€‚

å…¶å®ƒä¼ å…¥çš„å±æ€§ä¼šè¢«è½¬å‘ç»™ BlockNote å†…éƒ¨æ¸²æŸ“çš„ HTML `div` å…ƒç´ ã€‚

<Callout type="info" emoji={"ğŸ’¡"}>
  <strong>éå—æ§ç»„ä»¶</strong>
  <p>
    æ³¨æ„ï¼Œ`BlockNoteView` ç»„ä»¶æ˜¯ä¸€ä¸ª[éå—æ§ç»„ä»¶](https://react.dev/learn/sharing-state-between-components#controlled-and-uncontrolled-components)ã€‚è¿™æ„å‘³ç€ä½ ä¸ç”¨é€šè¿‡å±æ€§ç›´æ¥ä¼ å…¥ç¼–è¾‘å™¨å†…å®¹ã€‚ä½ å¯ä»¥ä½¿ç”¨ `useCreateBlockNote` é’©å­ä¸­çš„ `initialContent` é€‰é¡¹æ¥è®¾ç½®ç¼–è¾‘å™¨çš„åˆå§‹å†…å®¹ï¼ˆç±»ä¼¼äºå¸¸è§„ React `<textarea>` çš„ `defaultValue` å±æ€§ï¼‰ã€‚
  </p>
  <p>
    BlockNote åœ¨å†…éƒ¨å¤„ç†ç®¡ç†ç¼–è¾‘å™¨çŠ¶æ€çš„å¤æ‚æ€§å’Œæ€§èƒ½ä¼˜åŒ–ã€‚ä½ å¯ä»¥ä½¿ç”¨[ç¼–è¾‘å™¨ API](/docs/editor-api)æ¥ä¸ç¼–è¾‘å™¨å†…å®¹äº¤äº’ã€‚
  </p>
</Callout>